<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_01tce8q" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.4.0">
  <bpmn:process id="registerWriter" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_14db4w2</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="Activity_0xmhego" name="Register">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="firstname" label="Firstname" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.LettersValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="lastname" label="Lastname" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.LettersValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="city" label="City" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.LettersValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="country" label="Country" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.LettersValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email" label="Email" type="string_email">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.UniqueEmailValidator" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.EmailValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="username" label="Username" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="validator" config="com.example.workflow.validators.UniqueUsernameValidator" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="password" label="Password" type="string_password">
            <camunda:validation>
              <camunda:constraint name="required" />
              <camunda:constraint name="minlength" config="4" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="genres" label="Choose genres" type="multipleEnum_genres">
            <camunda:validation>
              <camunda:constraint name="validator" config="com.example.workflow.validators.GenresValidator" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener class="com.example.workflow.handlers.GetGenresHandler" event="create" />
        <camunda:inputOutput>
          <camunda:outputParameter name="genres">
            <camunda:map />
          </camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0k7t5wn</bpmn:incoming>
      <bpmn:outgoing>Flow_1u5qqw1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_14db4w2" sourceRef="StartEvent_1" targetRef="Gateway_06eqhev" />
    <bpmn:serviceTask id="Activity_1iv3lut" name="Write writer to DB" camunda:class="com.example.workflow.services.StoreSystemUserService">
      <bpmn:incoming>Flow_1u5qqw1</bpmn:incoming>
      <bpmn:outgoing>Flow_1bpp24x</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:intermediateThrowEvent id="Event_11uvfu2" name="Send verification email">
      <bpmn:incoming>Flow_19fsk0e</bpmn:incoming>
      <bpmn:outgoing>Flow_1or6r9f</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ershs2" messageRef="Message_1dob6i9" camunda:class="com.example.workflow.services.SendVerificationEmailService" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateCatchEvent id="Event_1eevqhj" name="Receive writer verification">
      <bpmn:incoming>Flow_1or6r9f</bpmn:incoming>
      <bpmn:outgoing>Flow_1eq8jcd</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_08sme3w" messageRef="Message_1vnpduc" />
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="Activity_16gxu2t" name="Save email confirmation" camunda:class="com.example.workflow.services.SaveEmailConfirmationService">
      <bpmn:incoming>Flow_1eq8jcd</bpmn:incoming>
      <bpmn:outgoing>Flow_1d6exoj</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1u5qqw1" sourceRef="Activity_0xmhego" targetRef="Activity_1iv3lut" />
    <bpmn:sequenceFlow id="Flow_1bpp24x" sourceRef="Activity_1iv3lut" targetRef="Gateway_07brkkh" />
    <bpmn:sequenceFlow id="Flow_1or6r9f" sourceRef="Event_11uvfu2" targetRef="Event_1eevqhj" />
    <bpmn:sequenceFlow id="Flow_1eq8jcd" sourceRef="Event_1eevqhj" targetRef="Activity_16gxu2t" />
    <bpmn:exclusiveGateway id="Gateway_06eqhev">
      <bpmn:incoming>Flow_14db4w2</bpmn:incoming>
      <bpmn:incoming>Flow_1x6ezo6</bpmn:incoming>
      <bpmn:outgoing>Flow_0k7t5wn</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0k7t5wn" sourceRef="Gateway_06eqhev" targetRef="Activity_0xmhego" />
    <bpmn:exclusiveGateway id="Gateway_07brkkh">
      <bpmn:incoming>Flow_1bpp24x</bpmn:incoming>
      <bpmn:outgoing>Flow_19fsk0e</bpmn:outgoing>
      <bpmn:outgoing>Flow_1x6ezo6</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_19fsk0e" sourceRef="Gateway_07brkkh" targetRef="Event_11uvfu2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${invalidSave == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1x6ezo6" name="Invalid DB save" sourceRef="Gateway_07brkkh" targetRef="Gateway_06eqhev">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${invalidSave == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1d6exoj" sourceRef="Activity_16gxu2t" targetRef="Activity_1mmat6m" />
    <bpmn:userTask id="Activity_1mmat6m" name="Submit works" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="files_2_10" label="Please submit your works (at least 2):" type="files_2_10">
            <camunda:validation>
              <camunda:constraint name="validator" config="com.example.workflow.validators.FileValidator" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:inputOutput>
          <camunda:outputParameter name="files_2_10">
            <camunda:list />
          </camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1d6exoj</bpmn:incoming>
      <bpmn:outgoing>Flow_0b3bxcf</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_0vti6s4" name="Review writer for membership" camunda:assignee="${committeeMember}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="vote" label="Opinion" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="NeedMoreWork_Id" name="NeedMoreWork" />
            <camunda:value id="For_Id" name="For" />
            <camunda:value id="Against_Id" name="Against" />
          </camunda:formField>
          <camunda:formField id="comment" label="Comment" type="string_textArea">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="works" label="Works:" type="notEditableEnum_works" />
        </camunda:formData>
        <camunda:taskListener class="com.example.workflow.handlers.GetDownloadableFilesHandler" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_03d7r2g</bpmn:incoming>
      <bpmn:outgoing>Flow_14n7nqy</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${committeeMembers}" camunda:elementVariable="committeeMember" />
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_14n7nqy" sourceRef="Activity_0vti6s4" targetRef="Activity_1ramqvw" />
    <bpmn:serviceTask id="Activity_1ramqvw" name="Check vote" camunda:class="com.example.workflow.services.CheckCommitteeVotesService">
      <bpmn:incoming>Flow_14n7nqy</bpmn:incoming>
      <bpmn:outgoing>Flow_06wqg4a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0g4eei5">
      <bpmn:incoming>Flow_06wqg4a</bpmn:incoming>
      <bpmn:outgoing>Flow_0uaum3o</bpmn:outgoing>
      <bpmn:outgoing>Flow_1bp1lfg</bpmn:outgoing>
      <bpmn:outgoing>Flow_17zlyp4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_06wqg4a" sourceRef="Activity_1ramqvw" targetRef="Gateway_0g4eei5" />
    <bpmn:sequenceFlow id="Flow_0uaum3o" name="Denied membership request" sourceRef="Gateway_0g4eei5" targetRef="Gateway_0nc05ps">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${committeeDecision== "Denied"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_1y8dzow">
      <bpmn:incoming>Flow_0j57zk0</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:boundaryEvent id="Event_0f3pz5f" attachedToRef="Activity_0vw7ahc">
      <bpmn:outgoing>Flow_1kcu14e</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1v0k1zd">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT3M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1kcu14e" sourceRef="Event_0f3pz5f" targetRef="Gateway_0qlxha7" />
    <bpmn:exclusiveGateway id="Gateway_0qlxha7">
      <bpmn:incoming>Flow_1kcu14e</bpmn:incoming>
      <bpmn:incoming>Flow_10t184t</bpmn:incoming>
      <bpmn:outgoing>Flow_0a78x74</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0a78x74" sourceRef="Gateway_0qlxha7" targetRef="Event_0sogkkg" />
    <bpmn:boundaryEvent id="Event_06e1gl2" attachedToRef="Activity_132racf">
      <bpmn:outgoing>Flow_10s7okz</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0n6b46e">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT3M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="Event_0ootk52">
      <bpmn:incoming>Flow_1qpccaf</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0zzdum1" sourceRef="Activity_132racf" targetRef="Activity_1e8ukq4" />
    <bpmn:endEvent id="Event_1xdpjze">
      <bpmn:incoming>Flow_0e849eu</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="Activity_132racf" name="Pay membership" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="owner" label="Card Owner" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="number" label="Card Number" type="string">
            <camunda:validation>
              <camunda:constraint name="validator" config="com.example.workflow.validators.CardNumberValidator" />
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="date" label="Expiration Date (mm/YY)" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="crc" label="CRC" type="string">
            <camunda:validation>
              <camunda:constraint name="validator" config="com.example.workflow.validators.CardCRCValidator" />
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ccgy1a</bpmn:incoming>
      <bpmn:incoming>Flow_04tyu8o</bpmn:incoming>
      <bpmn:outgoing>Flow_0zzdum1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0j57zk0" sourceRef="Event_0sogkkg" targetRef="Event_1y8dzow" />
    <bpmn:intermediateThrowEvent id="Event_0sogkkg" name="Notify writer of suspension">
      <bpmn:incoming>Flow_0a78x74</bpmn:incoming>
      <bpmn:outgoing>Flow_0j57zk0</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1jhsrxi" messageRef="Message_1xac1wo" camunda:class="com.example.workflow.services.SendSuspensionNoticeEmailService" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_03d7r2g" sourceRef="Event_1y3ng9b" targetRef="Activity_0vti6s4" />
    <bpmn:intermediateThrowEvent id="Event_1y3ng9b" name="Notify committee">
      <bpmn:incoming>Flow_1k57rxk</bpmn:incoming>
      <bpmn:outgoing>Flow_03d7r2g</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1jadove" messageRef="Message_00ad7dv" camunda:class="com.example.workflow.services.NotifyCommitteeEmailService" />
    </bpmn:intermediateThrowEvent>
    <bpmn:exclusiveGateway id="Gateway_0zwgjf6">
      <bpmn:incoming>Flow_0ducv5f</bpmn:incoming>
      <bpmn:incoming>Flow_0r96xk4</bpmn:incoming>
      <bpmn:outgoing>Flow_1k57rxk</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1k57rxk" sourceRef="Gateway_0zwgjf6" targetRef="Event_1y3ng9b" />
    <bpmn:sequenceFlow id="Flow_1bp1lfg" name="Need more &#10;work" sourceRef="Gateway_0g4eei5" targetRef="Gateway_17avooa">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${committeeDecision== "NeedMoreWork"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_17zlyp4" name="Approved membership request" sourceRef="Gateway_0g4eei5" targetRef="Event_16k9vz8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${committeeDecision == "Approved"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1ccgy1a" sourceRef="Event_16k9vz8" targetRef="Activity_132racf" />
    <bpmn:sequenceFlow id="Flow_0e849eu" sourceRef="Event_1jag3mq" targetRef="Event_1xdpjze" />
    <bpmn:sequenceFlow id="Flow_10s7okz" sourceRef="Event_06e1gl2" targetRef="Event_1jag3mq" />
    <bpmn:intermediateThrowEvent id="Event_0sk4eog" name="More work needeed">
      <bpmn:incoming>Flow_1pcbofe</bpmn:incoming>
      <bpmn:outgoing>Flow_0rgp5gm</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0kzkir3" messageRef="Message_00k0aqe" camunda:class="com.example.workflow.services.NeedMoreWorkNotificationService" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateThrowEvent id="Event_16k9vz8" name="Send payment request">
      <bpmn:incoming>Flow_17zlyp4</bpmn:incoming>
      <bpmn:outgoing>Flow_1ccgy1a</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1g0b6rh" messageRef="Message_11goiy6" camunda:class="com.example.workflow.services.PayMembershipNotificationService" />
    </bpmn:intermediateThrowEvent>
    <bpmn:intermediateThrowEvent id="Event_1jag3mq" name="Notify of canceled membership">
      <bpmn:incoming>Flow_10s7okz</bpmn:incoming>
      <bpmn:outgoing>Flow_0e849eu</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0q9zki3" messageRef="Message_136eyxd" camunda:class="com.example.workflow.services.NoMemebershipPaymentReceivedNotificationService" />
    </bpmn:intermediateThrowEvent>
    <bpmn:exclusiveGateway id="Gateway_17avooa">
      <bpmn:incoming>Flow_1bp1lfg</bpmn:incoming>
      <bpmn:outgoing>Flow_1pcbofe</bpmn:outgoing>
      <bpmn:outgoing>Flow_079xs33</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1pcbofe" sourceRef="Gateway_17avooa" targetRef="Event_0sk4eog">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Round &lt;= 3}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_0nc05ps">
      <bpmn:incoming>Flow_0uaum3o</bpmn:incoming>
      <bpmn:incoming>Flow_079xs33</bpmn:incoming>
      <bpmn:outgoing>Flow_10t184t</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_10t184t" sourceRef="Gateway_0nc05ps" targetRef="Gateway_0qlxha7" />
    <bpmn:sequenceFlow id="Flow_079xs33" name="4th round" sourceRef="Gateway_17avooa" targetRef="Gateway_0nc05ps">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Round &gt; 3}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1rl0drx" sourceRef="Activity_097euqt" targetRef="Activity_0wl8us6" />
    <bpmn:serviceTask id="Activity_097euqt" name="Store the work" camunda:class="com.example.workflow.services.StoreWorkService">
      <bpmn:incoming>Flow_0nbmnvn</bpmn:incoming>
      <bpmn:outgoing>Flow_1rl0drx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0ducv5f" sourceRef="Activity_0wl8us6" targetRef="Gateway_0zwgjf6" />
    <bpmn:scriptTask id="Activity_0wl8us6" name="Set comments and votes to 0">
      <bpmn:incoming>Flow_1rl0drx</bpmn:incoming>
      <bpmn:outgoing>Flow_0ducv5f</bpmn:outgoing>
      <bpmn:script>execution.setVariable(‘committeeVotes’, null);
execution.setVariable(‘committeeComments’, null);</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_0vw7ahc" name="Deliver more work" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="files_1_10" label="Please submit your works (max 10):" type="files_1_10">
            <camunda:validation>
              <camunda:constraint name="validator" config="com.example.workflow.validators.FileValidator" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:inputOutput>
          <camunda:outputParameter name="files_2_10">
            <camunda:list />
          </camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0rgp5gm</bpmn:incoming>
      <bpmn:outgoing>Flow_0nbmnvn</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0rgp5gm" sourceRef="Event_0sk4eog" targetRef="Activity_0vw7ahc" />
    <bpmn:sequenceFlow id="Flow_0nbmnvn" sourceRef="Activity_0vw7ahc" targetRef="Activity_097euqt" />
    <bpmn:serviceTask id="Activity_1hudaye" name="Store the work" camunda:class="com.example.workflow.services.StoreWorkService">
      <bpmn:incoming>Flow_0b3bxcf</bpmn:incoming>
      <bpmn:outgoing>Flow_0r96xk4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0b3bxcf" sourceRef="Activity_1mmat6m" targetRef="Activity_1hudaye" />
    <bpmn:sequenceFlow id="Flow_0r96xk4" sourceRef="Activity_1hudaye" targetRef="Gateway_0zwgjf6" />
    <bpmn:sequenceFlow id="Flow_1mwiawl" sourceRef="Activity_1e8ukq4" targetRef="Gateway_0wxiz6t" />
    <bpmn:serviceTask id="Activity_1e8ukq4" name="Check payment" camunda:class="com.example.workflow.services.CheckPaymentService">
      <bpmn:incoming>Flow_0zzdum1</bpmn:incoming>
      <bpmn:outgoing>Flow_1mwiawl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0wxiz6t">
      <bpmn:incoming>Flow_1mwiawl</bpmn:incoming>
      <bpmn:outgoing>Flow_1qpccaf</bpmn:outgoing>
      <bpmn:outgoing>Flow_04tyu8o</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1qpccaf" name="Valid payment" sourceRef="Gateway_0wxiz6t" targetRef="Event_0ootk52">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${successfulPayment==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_04tyu8o" name="Invalid payment" sourceRef="Gateway_0wxiz6t" targetRef="Activity_132racf">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${successfulPayment==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
  </bpmn:process>
  <bpmn:message id="Message_1dob6i9" name="SendSystemUserVerification" />
  <bpmn:message id="Message_1vnpduc" name="ReceiveSystemUserVerification" />
  <bpmn:message id="Message_00ad7dv" name="NotifyCommittee" />
  <bpmn:message id="Message_00k0aqe" name="MoreWorkNeeded" />
  <bpmn:message id="Message_11goiy6" name="SendReceipt" />
  <bpmn:message id="Message_136eyxd" name="NotifyOfCanceledMembership" />
  <bpmn:message id="Message_1xac1wo" name="suspensionMessage" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="registerWriter">
      <bpmndi:BPMNEdge id="Flow_04tyu8o_di" bpmnElement="Flow_04tyu8o">
        <di:waypoint x="310" y="405" />
        <di:waypoint x="310" y="510" />
        <di:waypoint x="420" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="321" y="493" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qpccaf_di" bpmnElement="Flow_1qpccaf">
        <di:waypoint x="285" y="380" />
        <di:waypoint x="188" y="380" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="203" y="362" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mwiawl_di" bpmnElement="Flow_1mwiawl">
        <di:waypoint x="420" y="380" />
        <di:waypoint x="335" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r96xk4_di" bpmnElement="Flow_0r96xk4">
        <di:waypoint x="1270" y="260" />
        <di:waypoint x="1270" y="295" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b3bxcf_di" bpmnElement="Flow_0b3bxcf">
        <di:waypoint x="1270" y="137" />
        <di:waypoint x="1270" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nbmnvn_di" bpmnElement="Flow_0nbmnvn">
        <di:waypoint x="1040" y="790" />
        <di:waypoint x="1080" y="790" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rgp5gm_di" bpmnElement="Flow_0rgp5gm">
        <di:waypoint x="990" y="718" />
        <di:waypoint x="990" y="750" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ducv5f_di" bpmnElement="Flow_0ducv5f">
        <di:waypoint x="1320" y="790" />
        <di:waypoint x="1470" y="790" />
        <di:waypoint x="1470" y="320" />
        <di:waypoint x="1295" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rl0drx_di" bpmnElement="Flow_1rl0drx">
        <di:waypoint x="1180" y="790" />
        <di:waypoint x="1220" y="790" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_079xs33_di" bpmnElement="Flow_079xs33">
        <di:waypoint x="965" y="630" />
        <di:waypoint x="785" y="630" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="854" y="612" width="47" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10t184t_di" bpmnElement="Flow_10t184t">
        <di:waypoint x="760" y="655" />
        <di:waypoint x="760" y="755" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pcbofe_di" bpmnElement="Flow_1pcbofe">
        <di:waypoint x="990" y="655" />
        <di:waypoint x="990" y="682" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10s7okz_di" bpmnElement="Flow_10s7okz">
        <di:waypoint x="470" y="568" />
        <di:waypoint x="470" y="612" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0e849eu_di" bpmnElement="Flow_0e849eu">
        <di:waypoint x="470" y="648" />
        <di:waypoint x="470" y="692" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ccgy1a_di" bpmnElement="Flow_1ccgy1a">
        <di:waypoint x="652" y="510" />
        <di:waypoint x="520" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17zlyp4_di" bpmnElement="Flow_17zlyp4">
        <di:waypoint x="855" y="510" />
        <di:waypoint x="688" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="743" y="470" width="61" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bp1lfg_di" bpmnElement="Flow_1bp1lfg">
        <di:waypoint x="892" y="523" />
        <di:waypoint x="976" y="619" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="932" y="546" width="55" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1k57rxk_di" bpmnElement="Flow_1k57rxk">
        <di:waypoint x="1270" y="345" />
        <di:waypoint x="1270" y="392" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03d7r2g_di" bpmnElement="Flow_03d7r2g">
        <di:waypoint x="1270" y="428" />
        <di:waypoint x="1270" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j57zk0_di" bpmnElement="Flow_0j57zk0">
        <di:waypoint x="778" y="920" />
        <di:waypoint x="1022" y="920" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zzdum1_di" bpmnElement="Flow_0zzdum1">
        <di:waypoint x="470" y="470" />
        <di:waypoint x="470" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0a78x74_di" bpmnElement="Flow_0a78x74">
        <di:waypoint x="760" y="805" />
        <di:waypoint x="760" y="902" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kcu14e_di" bpmnElement="Flow_1kcu14e">
        <di:waypoint x="922" y="780" />
        <di:waypoint x="785" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uaum3o_di" bpmnElement="Flow_0uaum3o">
        <di:waypoint x="868" y="523" />
        <di:waypoint x="772" y="617" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="769" y="530" width="61" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06wqg4a_di" bpmnElement="Flow_06wqg4a">
        <di:waypoint x="990" y="510" />
        <di:waypoint x="905" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14n7nqy_di" bpmnElement="Flow_14n7nqy">
        <di:waypoint x="1220" y="510" />
        <di:waypoint x="1090" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d6exoj_di" bpmnElement="Flow_1d6exoj">
        <di:waypoint x="1170" y="97" />
        <di:waypoint x="1220" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x6ezo6_di" bpmnElement="Flow_1x6ezo6">
        <di:waypoint x="840" y="122" />
        <di:waypoint x="840" y="180" />
        <di:waypoint x="440" y="180" />
        <di:waypoint x="440" y="122" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="591" y="193" width="77" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19fsk0e_di" bpmnElement="Flow_19fsk0e">
        <di:waypoint x="865" y="97" />
        <di:waypoint x="902" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0k7t5wn_di" bpmnElement="Flow_0k7t5wn">
        <di:waypoint x="465" y="97" />
        <di:waypoint x="510" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1eq8jcd_di" bpmnElement="Flow_1eq8jcd">
        <di:waypoint x="1028" y="97" />
        <di:waypoint x="1070" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1or6r9f_di" bpmnElement="Flow_1or6r9f">
        <di:waypoint x="938" y="97" />
        <di:waypoint x="992" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bpp24x_di" bpmnElement="Flow_1bpp24x">
        <di:waypoint x="770" y="97" />
        <di:waypoint x="815" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1u5qqw1_di" bpmnElement="Flow_1u5qqw1">
        <di:waypoint x="610" y="97" />
        <di:waypoint x="670" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14db4w2_di" bpmnElement="Flow_14db4w2">
        <di:waypoint x="388" y="97" />
        <di:waypoint x="415" y="97" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="352" y="79" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xmhego_di" bpmnElement="Activity_0xmhego">
        <dc:Bounds x="510" y="57" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1iv3lut_di" bpmnElement="Activity_1iv3lut">
        <dc:Bounds x="670" y="57" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_11uvfu2_di" bpmnElement="Event_11uvfu2">
        <dc:Bounds x="902" y="79" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="879" y="122" width="82" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1eevqhj_di" bpmnElement="Event_1eevqhj">
        <dc:Bounds x="992" y="79" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="977" y="122" width="71" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16gxu2t_di" bpmnElement="Activity_16gxu2t">
        <dc:Bounds x="1070" y="57" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_06eqhev_di" bpmnElement="Gateway_06eqhev" isMarkerVisible="true">
        <dc:Bounds x="415" y="72" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_07brkkh_di" bpmnElement="Gateway_07brkkh" isMarkerVisible="true">
        <dc:Bounds x="815" y="72" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1juv36l_di" bpmnElement="Activity_1mmat6m">
        <dc:Bounds x="1220" y="57" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0785z33_di" bpmnElement="Activity_0vti6s4">
        <dc:Bounds x="1220" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_12scz16_di" bpmnElement="Activity_1ramqvw">
        <dc:Bounds x="990" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0g4eei5_di" bpmnElement="Gateway_0g4eei5" isMarkerVisible="true">
        <dc:Bounds x="855" y="485" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1y8dzow_di" bpmnElement="Event_1y8dzow">
        <dc:Bounds x="1022" y="902" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0qlxha7_di" bpmnElement="Gateway_0qlxha7" isMarkerVisible="true">
        <dc:Bounds x="735" y="755" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ootk52_di" bpmnElement="Event_0ootk52">
        <dc:Bounds x="152" y="362" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1xdpjze_di" bpmnElement="Event_1xdpjze">
        <dc:Bounds x="452" y="692" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_017ec6x_di" bpmnElement="Activity_132racf">
        <dc:Bounds x="420" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0wqxq8v_di" bpmnElement="Event_0sogkkg">
        <dc:Bounds x="742" y="902" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="684" y="866" width="72" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_033678f_di" bpmnElement="Event_1y3ng9b">
        <dc:Bounds x="1252" y="392" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1157" y="400" width="83" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0zwgjf6_di" bpmnElement="Gateway_0zwgjf6" isMarkerVisible="true">
        <dc:Bounds x="1245" y="295" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1c87n6q_di" bpmnElement="Event_0sk4eog">
        <dc:Bounds x="972" y="682" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1023" y="686" width="53" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1blotim_di" bpmnElement="Event_16k9vz8">
        <dc:Bounds x="652" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="636" y="535" width="72" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02pyy5i_di" bpmnElement="Event_1jag3mq">
        <dc:Bounds x="452" y="612" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="388.5" y="610" width="61" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_17avooa_di" bpmnElement="Gateway_17avooa" isMarkerVisible="true">
        <dc:Bounds x="965" y="605" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0nc05ps_di" bpmnElement="Gateway_0nc05ps" isMarkerVisible="true">
        <dc:Bounds x="735" y="605" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17a7qje_di" bpmnElement="Activity_097euqt">
        <dc:Bounds x="1080" y="750" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_123oyye_di" bpmnElement="Activity_0wl8us6">
        <dc:Bounds x="1220" y="750" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vw7ahc_di" bpmnElement="Activity_0vw7ahc">
        <dc:Bounds x="940" y="750" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hudaye_di" bpmnElement="Activity_1hudaye">
        <dc:Bounds x="1220" y="180" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0kwst7n_di" bpmnElement="Activity_1e8ukq4">
        <dc:Bounds x="420" y="340" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0wxiz6t_di" bpmnElement="Gateway_0wxiz6t" isMarkerVisible="true">
        <dc:Bounds x="285" y="355" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_04wzsor_di" bpmnElement="Event_06e1gl2">
        <dc:Bounds x="452" y="532" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1a2629e_di" bpmnElement="Event_0f3pz5f">
        <dc:Bounds x="922" y="762" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
